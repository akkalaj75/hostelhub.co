<!DOCTYPE html>
<html>
<head>
  <title>HostelHub Test</title>
</head>
<body>
  <h1>HostelHub</h1>
  <input id="email" placeholder="Email">
  <select id="hostel">
    <option>Ramanujan</option>
  </select>
  <button onclick="testMatch()">Find Someone</button>
  <div id="status"></div>

  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyB_gNArL-vud6HhtWXNwVf6KMAXTRqfAK4",
      authDomain: "hostelhub-b11fd.firebaseapp.com",
      projectId: "hostelhub-b11fd",
      storageBucket: "hostelhub-b11fd.firebasestorage.app",
      messagingSenderId: "935653838481",
      appId: "1:935653838481:web:e65ad37e0f6e91ff3ef930"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    async function testMatch() {
      const email = document.getElementById('email').value;
      const hostel = document.getElementById('hostel').value;

      if (!email.endsWith('.ac.in')) return alert('Use .ac.in email');

      await db.collection('users').doc(email).set({
        email, hostel, available: true
      });

      document.getElementById('status').innerText = 'User added. Check Firebase console.';
    }
  </script>
</body>
</html>
