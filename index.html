<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Connect anonymously with college students through video, voice, or chat. Safe, verified, and fun.">
  <title>HostelHub - Connect with College Students Anonymously</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:'Inter',sans-serif;
      background:linear-gradient(135deg,#0a0e27 0%,#1a1f3a 50%,#0f1729 100%);
      color:#fff;overflow-x:hidden;min-height:100vh
    }
    nav{
      position:fixed;top:0;left:0;right:0;z-index:999;
      padding:20px 5%;display:flex;justify-content:space-between;align-items:center;
      background:rgba(10,14,39,0.7);backdrop-filter:blur(15px);
      border-bottom:1px solid rgba(255,255,255,0.1)
    }
    .logo{
      font-size:26px;font-weight:800;
      background:linear-gradient(135deg,#00d2ff,#3a7bd5);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;cursor:pointer
    }
    .nav-links{display:flex;gap:25px;align-items:center}
    .nav-links a{color:#ccc;text-decoration:none;transition:.3s}
    .nav-links a:hover{color:#00d2ff}
    .nav-cta{
      background:linear-gradient(135deg,#00d2ff,#3a7bd5);
      padding:10px 25px;border:none;border-radius:25px;color:#fff;font-weight:600;
      cursor:pointer;transition:.3s
    }
    .nav-cta:hover{transform:translateY(-2px);box-shadow:0 5px 20px rgba(0,210,255,.3)}
    .hero{
      text-align:center;padding:150px 5% 100px;max-width:1100px;margin:auto
    }
    .hero h1{
      font-size:clamp(34px,6vw,72px);
      background:linear-gradient(135deg,#fff,#00d2ff);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      font-weight:800;margin-bottom:20px
    }
    .hero p{
      color:#bbb;font-size:clamp(16px,2vw,22px);
      margin-bottom:40px;max-width:720px;margin-inline:auto;line-height:1.6
    }
    .cta-btn{
      background:linear-gradient(135deg,#00d2ff,#3a7bd5);
      border:none;border-radius:50px;color:#fff;font-size:18px;font-weight:700;
      padding:18px 50px;cursor:pointer;transition:.3s;
      box-shadow:0 10px 40px rgba(0,210,255,.3)
    }
    .cta-btn:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 15px 50px rgba(0,210,255,.5)}
    .features{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
      gap:25px;padding:70px 5%;max-width:1200px;margin:auto
    }
    .feature-card{
      background:rgba(26,26,46,.6);backdrop-filter:blur(10px);
      border:1px solid rgba(255,255,255,.1);
      border-radius:20px;padding:40px 30px;text-align:center;
      transition:.3s;cursor:pointer
    }
    .feature-card:hover{transform:translateY(-8px);border-color:rgba(0,210,255,.5);box-shadow:0 10px 40px rgba(0,210,255,.2)}
    .feature-icon{font-size:46px;margin-bottom:15px}
    footer{text-align:center;padding:40px;background:rgba(10,14,39,0.8);border-top:1px solid rgba(255,255,255,.1)}
    footer p{color:#777;font-size:14px}
  </style>
</head>
<body>
  <nav>
    <div class="logo" id="logoBtn">HostelHub</div>
    <div class="nav-links">
      <a href="#features">Features</a>
      <a href="#about">About</a>
      <button class="nav-cta" id="navGetStarted">Get Started</button>
    </div>
  </nav>

  <section class="hero" id="home">
    <h1>Connect with College Students Anonymously</h1>
    <p>Video chat, voice call, or text with verified students from your college. Safe, anonymous, and fun â€” just like Omegle, but exclusive to .ac.in users.</p>
    <button class="cta-btn" id="heroStartBtn">Start Matching Now â†’</button>
  </section>
  <section class="features" id="features">
    <div class="feature-card" data-action="openApp">
      <div class="feature-icon">ğŸ“¹</div>
      <h3>Video & Voice</h3>
      <p>High-quality calls with verified students, low latency and clear sound.</p>
    </div>
    <div class="feature-card" data-action="openApp">
      <div class="feature-icon">ğŸ­</div>
      <h3>Anonymous Matching</h3>
      <p>Connect randomly with real college students, stay fully anonymous.</p>
    </div>
    <div class="feature-card" data-action="openApp">
      <div class="feature-icon">ğŸ’¬</div>
      <h3>Text Chat</h3>
      <p>Instant messaging with auto-save & quick skip options.</p>
    </div>
    <div class="feature-card" data-action="openApp">
      <div class="feature-icon">ğŸ›¡ï¸</div>
      <h3>Safe & Secure</h3>
      <p>Report / block, no personal info shared, college email verification required.</p>
    </div>
    <div class="feature-card" data-action="openApp">
      <div class="feature-icon">â­ï¸</div>
      <h3>Skip Anytime</h3>
      <p>Not vibing? Skip instantly â€” no awkward exits.</p>
    </div>
    <div class="feature-card" data-action="openApp">
      <div class="feature-icon">ğŸ¯</div>
      <h3>Interest Matching</h3>
      <p>Add interests and find peers with similar hobbies & goals.</p>
    </div>
  </section>

  <section class="hero" id="about" style="padding-top:40px;">
    <h1>Ready to Make New Friends?</h1>
    <p>Join thousands of students connecting daily through HostelHub â€” built for fun, safety & real conversations.</p>
    <button class="cta-btn" id="ctaLaunchBtn">Launch HostelHub â†’</button>
  </section>

  <footer>
    <p>Â© 2025 HostelHub. All rights reserved. Made with â¤ï¸ for college students.</p>
  </footer>

  <!-- === APP MODAL === -->
  <div id="appModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:999;justify-content:center;align-items:center;">
    <div class="app-container" style="background:#1a1a2e;padding:40px;border-radius:24px;width:90%;max-width:420px;box-shadow:0 0 40px rgba(0,210,255,.25);position:relative;">
      <button id="closeAppBtn" style="position:absolute;top:10px;right:15px;background:none;color:#fff;border:none;font-size:28px;">Ã—</button>

      <!-- LOGIN SCREEN -->
      <div id="login-screen">
        <h2 style="text-align:center;margin-bottom:20px;">Sign In / Register</h2>
        <input id="email" type="email" placeholder="College Email (.ac.in)" style="width:100%;padding:12px;border-radius:10px;margin-bottom:10px;border:none;outline:none;background:#2a2a40;color:#fff;">
        <input id="password" type="password" placeholder="Password (6+ chars)" style="width:100%;padding:12px;border-radius:10px;margin-bottom:10px;border:none;outline:none;background:#2a2a40;color:#fff;">
        <button id="signupBtn" class="nav-cta" style="width:100%;margin-bottom:10px;">Sign Up</button>
        <button id="loginBtn" class="cta-btn" style="width:100%;">Login</button>
        <p id="status" style="margin-top:12px;font-size:14px;text-align:center;color:#ffd43b;"></p>
      </div>

      <!-- SETUP SCREEN -->
      <div id="setup-screen" style="display:none;">
        <h2 style="text-align:center;">Welcome <span id="user-email"></span></h2>
        <p style="text-align:center;margin-bottom:20px;">You're verified âœ… Ready to find a match?</p>
        <button id="findMatchBtn" class="cta-btn" style="width:100%;margin-bottom:10px;">ğŸ¯ Find Match</button>
        <button id="skipBtn" class="nav-cta" style="width:100%;margin-bottom:10px;">â­ï¸ Skip</button>
        <button id="logoutBtn" class="nav-cta" style="width:100%;">Logout</button>
      </div>
    </div>
  </div>
  <!-- === VIDEO CONTAINER === -->
  <div id="videoContainer" style="display:none;position:fixed;inset:0;background:#0a0e27;z-index:1000;flex-direction:column;justify-content:center;align-items:center;">
    <h2 style="margin-bottom:20px;">ğŸ¥ Connected with a Student</h2>
    <div style="display:flex;gap:20px;justify-content:center;">
      <video id="localVideo" autoplay muted style="width:320px;height:240px;border-radius:12px;background:#222;"></video>
      <video id="remoteVideo" autoplay style="width:320px;height:240px;border-radius:12px;background:#222;"></video>
    </div>
    <div style="margin-top:20px;display:flex;gap:15px;">
      <button id="muteBtn" class="nav-cta">ğŸ”‡ Mute</button>
      <button id="videoBtn" class="cta-btn">ğŸ“¹ Stop</button>
      <button id="skipBtnVideo" class="nav-cta">â­ï¸ Skip</button>
      <button id="endCall" class="nav-cta">âŒ End</button>
    </div>
  </div>

  <!-- === CHAT CONTAINER === -->
  <div id="chatContainer" style="display:none;position:fixed;inset:0;background:#0a0e27;z-index:1000;flex-direction:column;">
    <div id="chatMessages" style="flex:1;overflow-y:auto;padding:20px;"></div>
    <div style="display:flex;padding:10px;border-top:1px solid rgba(255,255,255,0.1);">
      <input id="chatInput" type="text" placeholder="Type your message..." style="flex:1;padding:12px;border:none;outline:none;background:#1a1f3a;color:#fff;border-radius:8px;">
      <button id="sendBtn" class="cta-btn" style="margin-left:10px;">Send</button>
      <button id="skipBtnChat" class="nav-cta" style="margin-left:10px;">â­ï¸ Skip</button>
      <button id="endChat" class="nav-cta" style="margin-left:10px;">End</button>
    </div>
  </div>

  <!-- === AI ASSISTANT === -->
  <div id="aiAssistant" style="position:fixed;bottom:30px;right:30px;z-index:1500;">
    <div id="aiChatBox" style="display:none;background:#1a1a2e;border-radius:16px;box-shadow:0 0 30px rgba(0,210,255,.3);padding:20px;width:280px;height:360px;flex-direction:column;">
      <div id="aiMessages" style="flex:1;overflow-y:auto;margin-bottom:10px;font-size:14px;"></div>
      <div style="display:flex;">
        <input id="aiInput" placeholder="Ask me anythingâ€¦" style="flex:1;background:#2a2a40;color:#fff;border:none;border-radius:8px;padding:8px;">
        <button id="aiSend" class="cta-btn" style="margin-left:8px;padding:8px 16px;">â†’</button>
      </div>
    </div>
    <div id="aiBubble" style="width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#00d2ff,#3a7bd5);display:flex;justify-content:center;align-items:center;font-size:28px;cursor:pointer;box-shadow:0 0 20px rgba(0,210,255,.4);">ğŸ¤–</div>
  </div>
<!-- === FIREBASE SDKs === -->
<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-storage-compat.js"></script>

<script>
  // ===== FIREBASE CONFIG =====
  const firebaseConfig = {
    apiKey: "AIzaSyB_gNArL-vud6HhtWXnwVf6KMAXTRqfAk4",
    authDomain: "hostelhub-b11fd.firebaseapp.com",
    projectId: "hostelhub-b11fd",
    storageBucket: "hostelhub-b11fd.firebasestorage.app",
    messagingSenderId: "935653838481",
    appId: "1:935653838481:web:e65ad37e0f6e91ff3ef930",
    measurementId: "G-KMHEWDN748"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();
  const storage = firebase.storage();

  console.log("âœ… Firebase initialized successfully!");

  // ===== GLOBAL ELEMENTS =====
  const appModal = document.getElementById('appModal');
  const loginScreen = document.getElementById('login-screen');
  const setupScreen = document.getElementById('setup-screen');
  const statusEl = document.getElementById('status');

  const localVideo = document.getElementById('localVideo');
  const remoteVideo = document.getElementById('remoteVideo');
  const chatContainer = document.getElementById('chatContainer');
  const chatMessages = document.getElementById('chatMessages');
  const chatInput = document.getElementById('chatInput');

  const aiBubble = document.getElementById('aiBubble');
  const aiChatBox = document.getElementById('aiChatBox');
  const aiMessages = document.getElementById('aiMessages');
  const aiInput = document.getElementById('aiInput');

  let currentUser = null;
  let localStream = null;
  let pc = null;
  let isAudioMuted = false;
  let isVideoOff = false;

  // ===== BASIC UI FUNCTIONS =====
  const showStatus = (msg, color = "#00d2ff") => {
    statusEl.textContent = msg;
    statusEl.style.color = color;
  };

  const openApp = () => { appModal.style.display = "flex"; };
  const closeApp = () => { appModal.style.display = "none"; };
  document.getElementById("heroStartBtn").onclick = openApp;
  document.getElementById("navGetStarted").onclick = openApp;
  document.getElementById("ctaLaunchBtn").onclick = openApp;
  document.getElementById("closeAppBtn").onclick = closeApp;
  document.querySelectorAll(".feature-card").forEach(c => c.addEventListener("click", openApp));

  // ===== AUTH HANDLERS =====
  auth.onAuthStateChanged((user) => {
    if (user && user.emailVerified) {
      currentUser = user;
      loginScreen.style.display = "none";
      setupScreen.style.display = "block";
      document.getElementById("user-email").textContent = user.email.split("@")[0];
      console.log("ğŸ‘¤ Logged in:", user.email);
    } else if (user && !user.emailVerified) {
      showStatus("Please verify your email before logging in.", "#ff6b6b");
      auth.signOut();
    } else {
      loginScreen.style.display = "block";
      setupScreen.style.display = "none";
    }
  });

  document.getElementById("signupBtn").onclick = async () => {
    const email = document.getElementById("email").value.trim();
    const pass = document.getElementById("password").value;
    if (!email.includes("@")) return showStatus("Enter a valid email.", "#ff6b6b");
    if (pass.length < 6) return showStatus("Password must be 6+ characters.", "#ff6b6b");
    try {
      const result = await auth.createUserWithEmailAndPassword(email, pass);
      await result.user.sendEmailVerification();
      showStatus("Verification email sent! Check your inbox.", "#ffd43b");
    } catch (err) {
      showStatus(err.message, "#ff6b6b");
    }
  };

  document.getElementById("loginBtn").onclick = async () => {
    const email = document.getElementById("email").value.trim();
    const pass = document.getElementById("password").value;
    try {
      await auth.signInWithEmailAndPassword(email, pass);
      showStatus("Login successful âœ…", "#4ade80");
    } catch (err) {
      showStatus(err.message, "#ff6b6b");
    }
  };

  document.getElementById("logoutBtn").onclick = async () => {
    await auth.signOut();
    showStatus("Logged out successfully", "#ffd43b");
  };

  // ===== MATCHING SIMULATION =====
  document.getElementById("findMatchBtn").onclick = async () => {
    showStatus("ğŸ” Finding your match...", "#ffd43b");
    setTimeout(() => {
      appModal.style.display = "none";
      document.getElementById("videoContainer").style.display = "flex";
      showStatus("ğŸ¥ Matched successfully!", "#00d2ff");
    }, 2000);
  };

  // ===== VIDEO CONTROLS =====
  document.getElementById("muteBtn").onclick = () => {
    if (!localStream) return;
    isAudioMuted = !isAudioMuted;
    localStream.getAudioTracks().forEach(t => t.enabled = !isAudioMuted);
    document.getElementById("muteBtn").textContent = isAudioMuted ? "ğŸ”Š Unmute" : "ğŸ”‡ Mute";
  };

  document.getElementById("videoBtn").onclick = () => {
    if (!localStream) return;
    isVideoOff = !isVideoOff;
    localStream.getVideoTracks().forEach(t => t.enabled = !isVideoOff);
    document.getElementById("videoBtn").textContent = isVideoOff ? "ğŸ“¹ On" : "ğŸ“¹ Off";
  };

  document.getElementById("skipBtnVideo").onclick = () => {
    showStatus("â­ï¸ Skipping...", "#ffd43b");
    document.getElementById("videoContainer").style.display = "none";
    setupScreen.style.display = "block";
  };

  document.getElementById("endCall").onclick = () => {
    document.getElementById("videoContainer").style.display = "none";
    setupScreen.style.display = "block";
    showStatus("Call ended.", "#ff6b6b");
  };

  // ===== CHAT SECTION =====
  document.getElementById("sendBtn").onclick = sendMessage;
  chatInput.onkeypress = (e) => { if (e.key === "Enter") sendMessage(); };

  function sendMessage() {
    const text = chatInput.value.trim();
    if (!text) return;
    const div = document.createElement("div");
    div.textContent = "You: " + text;
    chatMessages.appendChild(div);
    chatInput.value = "";
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }

  document.getElementById("skipBtnChat").onclick = () => {
    showStatus("â­ï¸ Skipping chat...", "#ffd43b");
    chatContainer.style.display = "none";
    setupScreen.style.display = "block";
  };

  document.getElementById("endChat").onclick = () => {
    chatContainer.style.display = "none";
    setupScreen.style.display = "block";
    showStatus("Chat ended.", "#ff6b6b");
  };

  // ===== AI ASSISTANT =====
  aiBubble.onclick = () => {
    aiChatBox.style.display = aiChatBox.style.display === "none" ? "flex" : "none";
  };

  document.getElementById("aiSend").onclick = sendAI;
  aiInput.onkeypress = (e) => { if (e.key === "Enter") sendAI(); };

  async function sendAI() {
    const query = aiInput.value.trim();
    if (!query) return;
    const userMsg = document.createElement("div");
    userMsg.textContent = "ğŸ§‘â€ğŸ“ You: " + query;
    aiMessages.appendChild(userMsg);
    aiInput.value = "";

    const aiMsg = document.createElement("div");
    aiMsg.textContent = "ğŸ¤– Thinking...";
    aiMessages.appendChild(aiMsg);
    aiMessages.scrollTop = aiMessages.scrollHeight;

    setTimeout(() => {
      aiMsg.textContent = "ğŸ¤– HostelHub AI: " + getAIResponse(query);
      aiMessages.scrollTop = aiMessages.scrollHeight;
    }, 1000);
  }

  function getAIResponse(q) {
    q = q.toLowerCase();
    if (q.includes("how") && q.includes("start")) return "Click on â€˜Get Startedâ€™ to create your account using your college email.";
    if (q.includes("safe") || q.includes("secure")) return "HostelHub uses Firebase Auth & Firestore â€” your chats are encrypted and temporary.";
    if (q.includes("video")) return "Our video system uses WebRTC with secure TURN servers for safety.";
    if (q.includes("skip")) return "You can skip anytime using the â­ï¸ button â€” no personal data is stored.";
    return "Iâ€™m your HostelHub helper â€” ask me about login, matching, or safety!";
  }

  console.log("ğŸš€ HostelHub Futuristic v35 loaded successfully.");
</script>
</body>
</html>
